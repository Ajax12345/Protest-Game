<html>
    <head>
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width">
        <title>{{game.name}}</title>
        <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
        <link href="https://fonts.googleapis.com/css?family=Fira+Sans|Muli|Roboto&display=swap" rel="stylesheet">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.3/umd/popper.min.js" integrity="sha384-ZMP7rVo3mIykV+2+9J3UJ46jBk0WLaUAdn689aCwoqbBJiSnjAK/l8WvCWPIPm49" crossorigin="anonymous"></script>
        <script src="https://js.pusher.com/4.4/pusher.min.js"></script>
        <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
        <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/js/bootstrap.min.js" integrity="sha384-ChfqqxuZUCnJSK3+MXmPNIyE6ZbWh2IMqE241rYiqJxyMiZ6OW/JmZQ5stwEULTy" crossorigin="anonymous"></script>
        <link rel='stylesheet' href='/static/styles/game_pannel1.css'>
        <link rel='stylesheet' href='/static/styles/player_pulses.css'>
        <script src='/static/styles/game_pannel1.js'></script>
    </head>
    <body>
        <div class='header'>
            <table style='width:100%'>
                <tr>
                    <td style='width:5%'><i class="fas fa-bars back_to_menu" style='color:white;font-size:2em'></i></td>
                    <td style='width:50%'><div class='game_name' data-gameid='{{game.id}}'>{{game.name}}</div></td>
                    <td style='width:15%'></td>
                    <td style='width:15%'><span class='badge badge_{{game.role}}'>{{game.display_role}}</span></td>
                    <td style='width:15%'><span class='logged_in_user' data-userid='{{game.player_id}}' data-role='{{game.role}}' data-tuser='{{game.loggedin}}' data-gamerole='{{game.chat_role_data}}'>{{game.loggedin}}</span></td>
                </tr>
            </table>
        </div>
        <div style='height:60px'></div>
        <table class='game_display'>
            <tr>
                <td style='width:40%'>
                    <div class='game_chat_wrapper'>
                        <table class='chat_table'>
                            <tr>
                                <td style='width:30%'>
                                    <div class='channel_wrapper'>
                                        <div class='channels_header'>
                                            <div class='channels_header_text'>Channels</div>
                                        </div>
                                        <div class='chat_channel_option selected_channel' id='protester_chat_channel' data-channel='Protesters'>#Protesters</div>
                                        <div class='chat_channel_option' id='police_chat_channel' data-channel='Police'>#Police</div>
                                        
                                    </div>
                                    
                                </td>
                                <td style='width:70%'>
                                    <div class='chat_wrapper' style='margin-left:-2px;'>
                                        <div class='chat_header'>
                                            <div class='chat_header_text'>#{{game.chat_role}}</div>
                                        </div>
                                        <div class='chat_main'>
                                            <div class='chat_history_buffer'></div>
                                        </div>
                                        <div class='chat_input_wrapper'>
                                            <div class='post_message_box'>
                                                <table style='width:100%'>
                                                    <tr>
                                                        <td style='width:80%' class='input_section'><input type="text" class="main_input_box" placeholder='Message #{{game.chat_role}}'></td>
                                                        <td style='width:20%;'><div class='select_emogi_pannel'><i class="far fa-laugh" style='font-size:1.5em;color:rgb(113, 110, 110)'></i></div></td>
                                                    </tr>
                                                </table>
                                            </div>
                                            <div style='height:5px'></div>
                                            <div class='emoji_display'>

                                            </div>
                                        </div>
                                    </div>
                                    
                                </td>
                            </tr>
                        </table>
                    </div>
                </td>
                <td style='width:60%'>
                    <div class='game_board_wrapper'>
                        <div class='full_board'>
                            <table style='width:100%;margin:0 auto;'>
                                <tr>
                                    <td style='width:10%;text-align:center;'><img src="/static/styles/eared-shield-1.svg" alt="police_badge" style='width:70%;height:30%;'></td>
                                    <td style='width:30%;'>
                                        <div class='__police_score_display'>0</div>
                                        <!--
                                        <div class='entity_scores police_score_outer' data-entity='police' data-score='0'>
                                            <div class='progress_bar bar_left'>
                                                <div class='police_score_positive'></div>
                                            </div>
                                            <div class='negative_progress_bar neg_bar_left'>
                                                <div class='police_score_negative'></div>
                                            </div>
                                        </div>
                                        -->
                                    </td>
                                    <td style='width:20%;'>
                                        <div class='game_time'><div class="history_round_label">Round {{game.current_round}}</div></div>
                                    </td>
                                    <td style='width:30%;'>
                                        
                                        <div class='__protester_score_display'>0</div>
                                        <!--
                                        <div class='entity_scores protester_score_outer' data-entity='protester' data-score='0'>
                                            <div class='progress_bar bar_right'>
                                                <div class='protester_score_positive'></div>
                                            </div>
                                            <div class='negative_progress_bar neg_bar_right'>
                                                <div class='protester_score_negative'></div>
                                            </div>
                                        </div>
                                        -->

                                    </td>
                                    <td style='width:10%;text-align:center;'><img src="/static/styles/raised-fist.svg" alt="protester_fist" style='width:50%;height:30%;'></td>
                                </tr>
                            </table>
                            <div style='height:10px'></div>
                            <div class='game_board inner_move_history'>
                                <div class='inner_board_dividor'></div>
                                <div style='height:10px'></div>
                                {%for event in game.game_history%}
                                    {%for reaction in event%}
                                        <div class='user_reaction'>
                                            <span class='reactor'>{{reaction.name}}</span><span class='mini_badge badge_{{reaction.role}}'>{{reaction.role_text}}</span>   <span class='reacted_text'>reacted</span> <span class='reactor'>{{reaction.reaction}}</span>
                                        </div>
                                        <div style='height:10px'></div>
                                    {%endfor%}
                                    <div class='user_reaction'>
                                            <span class='reactor end_of_round'>End of Round {{event.round}}:</span><span class='current_score_display'><span class='current_score_num'>{{event.running_score_police}}</span><span class='current_score_num'> to </span><span class='current_score_num'>{{event.running_score_protester}}</span></span><span class='mini_badge badge_{{event.running_score_winner}}' style='margin-left:5px;font-size:19px;'>{{event.running_winner_text}}</span>
                                            <div style='height:15px'></div>
                                            
                                            <div style='height:15px'></div>
                                            <div class="inner_board_dividor"></div>
          
                                            
                                    </div>
                                    <div style='height:10px'></div>
                                {%endfor%}
                            </div>
                            <div style='height:20px'></div>
                            <div class='loader_display' style='display:none'>
                                <div class='loader'></div>
                            </div>
                    
                            <table style='width:55%;display:none;padding-left:15px;' class='reaction_display_table'>
                                <tr>
                                    <td>
                                        <td style='width:50%'><div class='violence_level' data-reaction='violent'>Violent</div></td>
                                        <td style='width:50%'><div class='violence_level' data-reaction='nonviolent' style='float:right'>Nonviolent</div></td>
                                    </td>
                                </tr>
                            </table>
                            
                        </div>
                    </div>
                </td>
            </tr>
        </table>
        <div style='height:100px'></div>
        <div class="modal" id="mission_modal" tabindex="-1" role="dialog" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog modal-lg" role="document">
              <div class="modal-content mission_modal_body">
                
                <div class="modal-body">
                    <table style='margin:0 auto;width:100%;'>
                        <tr>
                            <td style='width:12%;'><div class='content_entity_header'>Location:</div></td>
                            <td style='width:88%;'>
                                <table>
                                    <tr>
                                        <td><div class='content_entity_text' id='content_location'></div></td>
                                        <td id='content_location_cursor'></td>
                                    </tr>
                                </table>
                                
                            </td>
                        </tr>
                    </table>
                    <div style='height:10px'></div>
                    <table style='margin:0 auto;width:100%;'>
                            <tr>
                                <td style='width:12%;'><div class='content_entity_header'>Date:</div></td>
                                <td style='width:88%;'>
                                        <table>
                                                <tr>
                                                    <td><div class='content_entity_text' id='content_date'></div></td>
                                                    <td id='content_date_cursor'></td>
                                                </tr>
                                            </table>
                                </td>
                            </tr>
                        </table>
                    <div style='height:10px'></div>
                    <table style='margin:0 auto;width:100%;'>
                            <tr>
                                <td style='width:12%;'><div class='content_entity_header'>Overview:</div></td>
                                <td style='width:88%;'>
                                        <table>
                                                <tr>
                                                    <td><div class='content_entity_text' id='content_overview'></div></td>
                                                    <td id='content_overview_cursor'></td>
                                                </tr>
                                            </table>
                                </td>
                            </tr>
                        </table>
                    <div style='height:10px'></div>
                    <table style='margin:0 auto;width:100%;'>
                            <tr>
                                <td style='width:12%;'><div class='content_entity_header'>Mission:</div></td>
                                <td style='width:88%;'>
                                        <table>
                                                <tr>
                                                    <td><div class='content_entity_text' id='content_mission'></div></td>
                                                    <td id='content_mission_cursor'></td>
                                                </tr>
                                            </table>
                                </td>
                            </tr>
                        </table>
                    <div style='height:10px'></div>
                </div>
                
              </div>
            </div>
          </div>
    </body>
</html>
